\section{IO Management}

\begin{frame}[plain]{}
    \sectionpage
\end{frame}

\begin{frame}[allowframebreaks]{Parameters}
    \begin{block}{Parameters}
    A simple class used to store a set of parameters read from a given file
    \end{block}
    The structure of the parameter file is simple: a first section related to basic configuration of the program, followed by a collection of device information and bandwidth data.
    
    \framebreak
    
    The main parameters are:
    \begin{itemize}
        \item model\_path: the path of the model
        \item K: the number of partitions to produce
        \item method: the k shortest path method to employ (either eppstein or lazy\_eppstein)
        \item backward\_connections\_allowed: it must be set to true if communication between a device with a higher id than another can happen (i.e device 1 can send data to device 0)
        \item memory\_constraint\_type: there are two possibilities: either all the required model parameters are pre-loaded on the device before the execution (preload\_parameters) or they are read directly from the disk one at the time during the execution of the network (max)
    \end{itemize}
    
    \framebreak
    
    The parameters for a device are:
    \begin{itemize}
        \item maximum\_memory: the maximum memory of the device usable by the NN (in bytes)
        \item weight\_path: the path from which the weights will be imported
    \end{itemize}
    
\end{frame}

\begin{frame}[allowframebreaks]{Import .onnx}
    \begin{block}{ONNX}
    Open Neural Network Exhance (ONNX) is an open ecosystem that empowers AI developers to choose the right tools as their project evolves. ONNX provides an open source format for AI models, both deep learning and traditional ML. 
    \end{block}
    
    All the required information to train and run a neural network can be encoded through Protocol Buffers (protobuf) into a .onnx file. To be able to import a .onnx file to C++, we have to:
    \begin{enumerate}
        \item Download from the \href{https://github.com/onnx/onnx}{ONNX github page} the file \href{https://github.com/onnx/onnx/blob/main/onnx/onnx.proto3}{onnx.proto3}, that stores the structure of a .onnx file
        \item Compilte through the Protocol Buffer Compiler (protoc) the .proto3 file, to produce a C++ class that can import a .onnx model
    \end{enumerate}
    
    \framebreak
    
    The model is imported in a onnx::ModelProto object. Unfortunately, all the main components of the Model are stored as simple pointers. Moreover, the graph structure cannot be easily traversed. For this reason, we implemented a custom importer that converts an onnx::ModelProto in a MWGraph$<$std::shared\_ptr$<$Type\_info$>>$.
    
\end{frame}